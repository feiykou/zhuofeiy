{extend name="public:base" /}
{block name="property"}
<meta name="description" content="">
<meta name="keyword" content="FlatLab, Dashboard, Bootstrap, Admin, Template, Theme, Responsive, Fluid, Retina">
<title>电商cms</title>
{/block}
{block name="content"}
      <!--main content start-->
      <section id="main-content">
          <section class="wrapper">
              <!-- page start-->
              <div class="row">
                  <div class="col-lg-12">
                      <section class="panel">
                          <header class="panel-heading">
                              角色管理
                          </header>
                          <div class="cate-opear">
                              <span class="btn btn-shadow btn-danger add-user-btn">添加角色</span>
                          </div>
                          <table class="table table-striped border-top" id="sample_1">
                          <thead>
                          <tr>
                              <th style="width:8px;"></th>
                              <th>id</th>
                              <th>角色名</th>
                              <th class="hidden-phone">启动状态</th>
                              <th class="hidden-phone">操作</th>
                          </tr>
                          </thead>
                          <tbody>
                          {volist name="roleData" id="data"}
                          <tr class="odd gradeX">
                              <td></td>
                              <td>{$data.id}</td>
                              <td class="hidden-phone">{$data.title}</td>
                              <td class="hidden-phone">
                                  <span>{if condition="$data.status eq 0"}未启动{else/}启动{/if}</span>
                              </td>
                              <td class="view-message"><span class="btn btn-primary btn-xs mr10 btn-del" data-id="{$data.id}" data-toggle="modal" data-target="#del-modal">删除</span> <span data-id="{$data.id}" class="btn btn-primary btn-xs btn-edit">编辑</span></td>
                          </tr>
                          {/volist}
                          </tbody>
                          </table>
                      </section>
                  </div>
              </div>
              <!-- page end-->
          </section>
      </section>
      <!--main content end-->

    <!-- 删除dialog -->
    <div class="modal fade" id="del-modal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel">
        <div class="modal-dialog cate-dialog" role="document">
            <div class="modal-content">
                <form id='cate-del-form'>
                    <div class='modal-header'>
                        <button type='button' class='close' data-dismiss='modal' aria-label='Close'><span aria-hidden='true'></span></button><h4 class='modal-title'>删除</h4>
                    </div>
                    <div class='modal-body' style=" font-size: 18px; padding: 20px 0 10px 30px;">
                        <span>是否要删除！</span>
                    </div>
                    <div class='modal-footer'>
                        <button type='button' class='btn btn-default' data-dismiss='modal'>取消</button>
                        <button type='button' class='btn btn-primary cateDel-sub'>提交</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
{/block}

{block name="script"}
<script src="__RES_ADMIN__/js/zhuo-checkbox.js"></script>
    <script>
        $(".add-user-btn").on("click",function(){
            parent.document.getElementById("main-iframe").src="{:url('add')}";
        });

        $(".btn-edit").on("click",function(){
            var id = $(this).data('id');
            parent.document.getElementById("main-iframe").src="{:url('edit')}?id="+id;
        });

        // 删除
        modelReq({
            "modalId": "#del-modal",
            "url": "{:url('del')}",
            "redirectP": "{:Url('/role')}",
            "sureClass": ".cateDel-sub",
            "btnClass": ".btn-del"
        });

    </script>
{/block}


